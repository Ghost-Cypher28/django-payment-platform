<!-- ecommerce/templates/product.html -->
<form method="post" 
    hx-post="{% url 'purchase' %}" 
    hx-swap="outerHTML"
    hx-disabled-elt="#submit-btn"
    >
    {% comment %} <img src="https://picsum.photos/id/30/400/250" alt="mug" />
    <h3>mug<sup>on sale!</sup></h3>
    <p>mugs are great - you can drink coffee on them!</p>
    <p><strong>5€</strong></p> {% endcomment %}
    <!-- Same product details as before, hidden for simplicity -->
    
    <!-- render the form fields ⬇️ -->
    {{ form }}
    
    <!-- the same submit button as before ⬇️ -->
    <button type="submit" id="submit-btn">Buy</button>
    
    <!-- add a loading message with the htmx-indicator class ⬇️ -->
  <p class="htmx-indicator"><small>Getting your mug ready...</small></p>
</form>
  